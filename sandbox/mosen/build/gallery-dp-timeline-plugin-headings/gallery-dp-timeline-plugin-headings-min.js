YUI.add("gallery-dp-timeline-plugin-headings",function(d){var c=d.Lang,b=d.Node,a=d.DataType;d.namespace("DP").TimelineHeadings=d.Base.create("gallery-dp-timeline-plugin-headings",d.Plugin.Base,[],{initializer:function(e){this.beforeHostMethod("render",this.onHostRender);this.afterHostEvent("offsetChange",d.bind(this._afterDateChange,this));},onHostRender:function(){this._nodeDayContainer=this._renderHeadings();this._renderHeadingsDays(this._nodeDayContainer);this.get("host").get("contentBox").insert(this._nodeDayContainer);},_afterDateChange:function(){this._reflowHeadingsDays();},destructor:function(){},_renderHeadings:function(){var e=b.create(d.substitute(this.get("tplDayContainer"),{className:this.get("host").getClassName("day","container")}));return e;},_renderHeadingsDays:function(f){var g=this.get("host"),e=g._dates;d.Array.each(e,function(j){var h=b.create(d.substitute(this.get("tplDay"),{className:g.getClassName("day"),labelClassName:g.getClassName("day","label"),label:a.Date.format(j.date,{format:"%a %e"})}));h.set("style.left",j.left+"px");h.set("style.width",g.get("dayWidth")+"px");this._dates.push(h);f.append(h);},this);},_reflowHeadingsDays:function(){var h=this.get("host"),e=h._dates,f;for(i=0;i<e.length;i++){f=this._dates[i];if(f!==undefined){var g=a.Date.format(e[i].date,{format:"%a %e"});f.one("span").set("innerHTML",a.Date.format(e[i].date,{format:"%a %e"}));}}},_dates:Array()},{NS:"headings",ATTRS:{tplDayContainer:{value:'<div class="{className}"></div>'},tplDay:{value:'<div class="{className}"><span class="{labelClassName}">{label}</span></div>'}}});},"@VERSION@",{requires:["base","plugin","gallery-dp-timeline"]});