<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>gallery-datatable-footerview manual testing</title>
</head>
<body lang="en" class="yui3-skin-sam">
<script src="http://yui.yahooapis.com/3.9.1/build/yui/yui-min.js"></script>
<script>
    YUI({
        coverage: ['gallery-datatable-footerview'],
        filter: (window.location.search.match(/[?&]filter=([^&]+)/) || [])[1] || 'raw',
        filters: {
            "gallery-datatable-footerview": "debug"
        },
        groups: {
            subject: {
                combine: false,
                base: '../../../../build/',
                root: '../../../../build',
                modules: {
                    "gallery-datatable-footerview": {
                        path: "gallery-datatable-footerview/gallery-datatable-footerview-min.js",
                        requires: [
                            "base-build",
                            "datatable-base",
                            "view"
                        ],
                        skinnable: true
                    }
                }
            }
        }
    }).use(
            'datatable',
            'datatype-date',
//            'datatable-scroll',
            'gallery-datatable-footerview',
            'app',
            function (Y) {
                var dt = new Y.DataTable({
//                    scrollable: 'y',
                    columns: [
                        {
                            key: "id",
                            label: "id",
                            width: "50px"
                        },
                        {
                            key: "name",
                            label: "name",
                            width: "100px"
                        },
                        {
                            key: "price",
                            label: "price",
                            width: "150px",
                            formatter: function (o) {
                                if (!o.hasOwnProperty("data")) {
                                    //throw new TypeError("No data supplied to formatter");
                                    return o.value;
                                } else {
                                    return o.value;
                                }
                            }
                        },
                    ],
                    data: new Y.ModelList({
                        items: [
                            { "id": "1", "name": "Foo", "price" : 10 },
                            { "id": "2", "name": "Bar", "price" : 20 },
                            { "id": "3", "name": "Baz", "price" : 30 }
                        ]
                    }),
                    footerView: Y.FooterView,
                    footerConfig: {
                        fixed: true,
                        heading: {
                            colspan:    2,
                            content:    "Totals for {row_count} rows:",
                            className:  "align-right"
                        },
                        columns: [
                            { key: 'price', content: "{sum}", className: "priceSumClass" }
                        ]
                    }
                });

                dt.render();
            });
</script>
</body>
</html>